---
import { cx } from "class-variance-authority";
import { getCollection } from "astro:content";
import BaseLayout from "../layouts/BaseLayout.astro";
import HorizontalCard from "../components/HorizontalCard.astro";

const projects = await getCollection("projects");
---

<BaseLayout sideBarActiveItemID="home">
  <div class="pb-12 mt-5">
    <div class="text-5xl font-bold">Isto Nikula</div>
    <div class="mt-3 text-3xl font-bold">Freelance Full Stack Developer</div>
    <div class="mt-5 prose-lg">
      <p>
        I'm a results-driven Software Architect with expertise in designing and implementing robust full stack applications.
        My focus on precision and efficiency extends to translating business requirements into practical solutions.
        Experienced in agile methodologies, I emphasize the entire software lifecycle and long-term maintainability.
      </p>
      <p>
        I'm actively engaged in modern web technologies and have a keen interest in functional languages.
        Currently exploring Go and Rust, I am passionate about contributing to cutting-edge projects and thrive on strategic, hands-on software architecture.
      </p>
    </div>
  </div>

  <div>
    <div class="text-3xl w-full font-bold mb-2">My last projects</div>
  </div>

  {projects.map((p, idx) => (
    <>
      <div class={cx('divider my-0', { hidden: idx === 0})}></div>
      <HorizontalCard
        title={`${p.data.title}, ${p.data.customer}`}
        img="/post_img.webp"
        desc={`From ${p.data.from} to ${p.data.to}, ${p.data.role}`}
        url={`/projects/${p.slug}`}
      />
    </>
  ))}

</BaseLayout>
